{"version":3,"sources":["src/index.js"],"names":["React","createElement","ReactDOM","render","vnode","container","innerHTML","tag","attrs","children","appendChild","_render","undefined","String","textNode","document","createTextNode","dom","Object","keys","forEach","value","key","setAttribute","component","createComponent","atrrs","setComponentProps","base","child","props","inst","prototype","Component","constructor","name","test","toLowerCase","style","cssText","removeAttribute","state","assign","renderComponent","tick","element","textDecoration","Date","toLocaleTimeString","getElementById","setInterval"],"mappings":"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","file":"src.d07fcad2.map","sourceRoot":"..","sourcesContent":["const React = {\n  createElement\n}\n\nconst ReactDOM = {\n  render: (vnode, container) => {\n    container.innerHTML = \"\";\n    return render(vnode, container);\n  }\n}\n\nfunction createElement(tag, attrs, ...children) {\n  return { tag, attrs, children };\n}\n\nfunction render(vnode, container){\n  return container.appendChild(_render(vnode));\n}\n\nfunction _render(vnode) {\n  \n  if(vnode===undefined||vnode===null||typeof vnode==='boolean') vnode ='';\n\n  if(typeof vnode === 'number') return String(vnode);\n\n  if(typeof vnode === 'string') {\n    const textNode = document.createTextNode(vnode);\n    return container.appendChild(textNode);\n  }\n\n  const dom = document.createElement(vnode.tag);\n\n  if(vnode.attrs) {\n    Object.keys(vnode.attrs).forEach(key => {\n      const value = vnode.attrs[key];\n      setAttribute(dom, key, value);\n    });\n  }\n\n  if(typeof vnode === 'function') {\n    const component = createComponent(vnode.tag, vnode.atrrs);\n    setComponentProps(component, vnode.attrs);\n    return component.base;\n  }\n\n  vnode.children.forEach(child => {\n    render(child, dom);\n  });\n  \n  return dom;\n}\n\nfunction createComponent(component, props){\n  let inst;\n  if(component.prototype && component.prototype.render){\n    inst = new component(props);\n  } else {\n    inst = new Component(props);\n    inst.constructor = component;\n    inst.render = function(){\n      return this.constructor(props);\n    }\n  }\n}\n\nfunction setAttribute(dom, name, value) {\n  if(name === 'className') name = 'class';\n\n  if(/on\\w+/.test(name)){\n    name = name.toLowerCase();\n    dom[name] = value || '';\n  } else if(name==='style') {\n    if(!value || typeof value === 'string'){\n      dom.style.cssText = value||'';\n    } else if(value && typeof value === 'object'){\n      for(let name in value) {\n        dom.style[name] = value[name];\n      }\n    } else {\n      if(name in dom){\n        dom[name] = value||'';\n      }\n      if(value){\n        dom.setAttribute(name, value);\n      } else {\n        dom.removeAttribute(name, value);\n      }\n    }\n  }\n}\n\nclass Component {\n  constructor(props={}) {\n    this.props = props;\n    this.state = {};\n  }\n\n  setState(state){\n    Object.assign(this.state, state);\n    renderComponent(this);\n  }\n}\n\n\n\n\n\nfunction tick() {\n  const element = (\n    <div>\n      <h1 style=\"color: red\">hello, world!</h1>\n      <h2 style={{textDecoration: 'underline'}}>It is {new Date().toLocaleTimeString()}.</h2>\n    </div>\n  );\n\n  ReactDOM.render(element, document.getElementById('root'));\n}\n\nsetInterval(tick, 1000);\n"]}